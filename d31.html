<!DOCTYPE html>
<meta charset='utf-8'>
<style>

text {
    font: 10px sans-serif;
}

line {
    stroke: #000;
    stroke-width: 1.5px;
}

.component {
    fill: #fff;
    stroke: #ccc;
    stroke-width: 1.5px;
}

</style>
<body>
<script src='d3.v3.min.js'></script>
<script>

var width = window.innerWidth,
    height = window.innerHeight;

var zoom = d3.behavior.zoom()
    .scaleExtent([1, 10])
    .on('zoom', function() {
        container.attr('transform', 'translate(' + d3.event.translate + ')scale(' + d3.event.scale + ')');
    });

var drag = d3.behavior.drag()
    .origin(function(d) { return d; })
    .on('dragstart', function(d) {
        d3.event.sourceEvent.stopPropagation();
        d3.select(this).classed('dragging', true);
    })
    .on('drag', function(d) {
        d.x = d3.event.x;
        d.y = d3.event.y;
        d3.select(this)
            .attr('transform', 'translate(' + d.x + ',' + d.y + ')');
    })
    .on('dragend', function(d) {
        d3.select(this).classed('dragging', false);
    });

var svg = d3.select('body').append('svg')
        .attr('width', width)
        .attr('height', height)
        .call(zoom)
        .append('g'),
    container = svg.append('g');

function addComponent(data) {
    var bar = container.append('g')
        .data([data])
        .attr('x', function(d) { return d.x; })
        .attr('y', function(d) { return d.y; })
        .call(drag);

    bar.append('rect')
        .attr('class', 'component')
        .attr('width', function(d) { return d.w; })
        .attr('height', function(d) { return d.h; })
        .attr('x', function(d) { return d.x; })
        .attr('y', function(d) { return d.y; })
        .attr('rx', 5)
        .attr('ry', 5);

    bar.append('text')
        .attr('width', function(d) { return d.w; })
        .attr('height', function(d) { return d.h; })
        .attr('x', function(d) { return d.x + (d.w / 2); })
        .attr('y', function(d) { return d.y + 10; })
        .attr('text-anchor', 'middle')
        .text(function(d) { return d.l; });
}

addComponent({
    w: 50,
    h: 50,
    x: 100,
    y: 100,
    l: 'Test Component 1'
});

addComponent({
    w: 50,
    h: 50,
    x: 200,
    y: 100,
    l: 'Test Component 2'
});
</script>