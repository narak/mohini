<!DOCTYPE html>
<meta charset='utf-8'>
<style>

text {
    font: 10px sans-serif;
}

line {
    stroke: #000;
    stroke-width: 1.5px;
}

.component {
    fill: #fff;
    stroke: #ccc;
    stroke-width: 1.5px;
}

</style>
<body>
<script src='d3.v3.min.js'></script>
<script>

var data = [
    {
        w: 50,
        h: 50,
        x: 100,
        y: 100,
        l: 'Test Component'
    }
]

var width = window.innerWidth,
    height = window.innerHeight;

var zoom = d3.behavior.zoom()
    .scaleExtent([1, 10])
    .on('zoom', function() {
        container.attr('transform', 'translate(' + d3.event.translate + ')scale(' + d3.event.scale + ')');
    });

var drag = d3.behavior.drag()
    .origin(function(d) { return d; })
    .on('dragstart', function(d) {
        d3.event.sourceEvent.stopPropagation();
        d3.select(this).classed('dragging', true);
    })
    .on('drag', function(d) {
        d.x = d3.event.x;
        d.y = d3.event.y;
        d3.select(this)
            .attr('transform', 'translate(' + d3.event.x + ',' + d3.event.y + ')');
    })
    .on('dragend', function(d) {
        d3.select(this).classed('dragging', false);
    });

var svg = d3.select('body').append('svg')
        .attr('width', width)
        .attr('height', height)
    .append('g')
        .call(zoom),
    container = svg.append('g');

/*container.append('rect')
    .data([{
        x: 100,
        y: 200
    }])
    .attr('class', 'component')
    .attr('width', 50)
    .attr('height', 50)
    .attr('x', function(d) { return d.x; })
    .attr('y', function(d) { return d.y; })
    .attr('rx', 5)
    .attr('ry', 5)
    .call(drag);*/

var bar = container.append('g')
    .data(data)
    .attr('x', function(d) { return d.x; })
    .attr('y', function(d) { return d.y; })
    .call(drag);

bar.append('rect')
    .attr('class', 'component')
    .attr('width', function(d) { return d.w; })
    .attr('height', function(d) { return d.h; })
    .attr('x', function(d) { return d.x; })
    .attr('y', function(d) { return d.y; })
    .attr('rx', 5)
    .attr('ry', 5);

bar.append('text')
    .attr('width', function(d) { return d.w; })
    .attr('height', function(d) { return d.h; })
    .attr('x', function(d) { return d.x + (d.w / 2); })
    .attr('y', function(d) { return d.y + 10; })
    .attr('text-anchor', 'middle')
    .text(function(d) { return d.l; });

</script>